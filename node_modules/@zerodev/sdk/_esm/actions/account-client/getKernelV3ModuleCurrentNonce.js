import { AccountOrClientNotFoundError, parseAccount } from "permissionless/utils";
import { readContract } from "viem/actions";
import { getAction } from "viem/utils";
import { KernelV3AccountAbi } from "../../accounts/kernel/abi/kernel_v_3_0_0/KernelAccountAbi.js";
export async function getKernelV3ModuleCurrentNonce(client, args) {
    const { account: account_ = client.account } = args;
    if (!account_)
        throw new AccountOrClientNotFoundError();
    const account = parseAccount(account_);
    try {
        const nonce = await getAction(client, readContract, "sendTransaction")({
            abi: KernelV3AccountAbi,
            address: account.address,
            functionName: "currentNonce",
            args: []
        });
        return nonce;
    }
    catch (error) {
        return 1;
    }
}
//# sourceMappingURL=getKernelV3ModuleCurrentNonce.js.map