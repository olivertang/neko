'use client'
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var permissionless = require('permissionless');
var constants = require('@zerodev/sdk/constants');
var sdkApiCore = require('@dynamic-labs/sdk-api-core');
var logger = require('./logger.cjs');

const getKernelVersion = (kernelVersion, entryPointAddress) => {
    if (kernelVersion === sdkApiCore.ProviderKernelVersionEnum.V31 ||
        (kernelVersion === undefined &&
            entryPointAddress === permissionless.ENTRYPOINT_ADDRESS_V07)) {
        return constants.KERNEL_V3_1;
    }
    else if (kernelVersion === sdkApiCore.ProviderKernelVersionEnum.V30) {
        return constants.KERNEL_V3_0;
    }
    else if (kernelVersion === sdkApiCore.ProviderKernelVersionEnum.V24 ||
        entryPointAddress === permissionless.ENTRYPOINT_ADDRESS_V06 // v0.6 only supports v2.4
    ) {
        return constants.KERNEL_V2_4;
    }
    else {
        logger.logger.error('Invalid kernel version', kernelVersion);
        return constants.KERNEL_V3_1;
    }
};

exports.getKernelVersion = getKernelVersion;
