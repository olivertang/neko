'use client'
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var messageTransport = require('@dynamic-labs/message-transport');
var pickListenerActions = require('../../../utils/pickListenerActions/pickListenerActions.cjs');

const createEmailAuthModule = (core) => {
    const requestChannel = messageTransport.createRequestChannel(core.messageTransport);
    const messageEvents = messageTransport.createEventEmitterForMessages({
        eventNames: messageTransport.emailEventNames,
        messageTransport: core.messageTransport,
    });
    return Object.assign(pickListenerActions.pickListenerActions(messageEvents), {
        resendOTP: () => requestChannel.request('resendOTP'),
        sendOTP: (email) => requestChannel.request('sendOTP', {
            destination: 'email',
            target: email,
        }),
        verifyOTP: (token) => requestChannel.request('verifyOTP', token),
    });
};

exports.createEmailAuthModule = createEmailAuthModule;
